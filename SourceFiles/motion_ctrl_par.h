//MOTION CTRL PAR:
//Velocity PI Pole Assignment: Bw 20Hz, Ts 1 kHz 
float Avpi[2][1] = { { 1.00000000000000000000e+00 },{ 1.00000000000000000000e+00 } };
float Bvpi[2][1] = { { 5.00000000000000000000e-01 },{ 5.00000000000000000000e-01 } };
float Cvpi[2][1] = { { 5.40990092213619270000e-01 },{ 5.40990092213619270000e-01 } };
float Dvpi[2][1] = { { 1.90696052089545360000e+00 },{ 1.90696052089545360000e+00 } };


float	A_StageLPF[4] = { 9.90897487419981290000e-01,-2.81916400125604150000e-01,5.00000000000000000000e-01,0.00000000000000000000e+00 };
float	B_StageLPF[2] = { 2.00000000000000000000e+00,0.00000000000000000000e+00 };
float	C_StageLPF[2] = { 7.78663875520966940000e-01,-1.40726703839911330000e+00 };
float	D_StageLPF[1] = { 0.00000000000000000000e+00 };

//Postion P based on Velocity PI, Bw:5 Hz, Ts1kHz
float Kxp = PI(10);

//Spindle velocity PI PZC control Bw:80Hz, Ts 1kHz 
float Aspvpi[1] = { 1.00000000000000000000e+00 };
float Bspvpi[1] = { 1.25000000000000000000e-01 };
float Cspvpi[1] = { 1.20637157897849790000e-01 };
float Dspvpi[1] = { 2.51327412287183450000e+00 };


//Position PID: Bw 40Hz, Ts 2kHz
float Apid[2][2] = {
	{ 1.601349668864234, -0.601349668864234 },
	{ 1.000000000000000, 0.0000000000000000 },
};
float Bpid[2][1] = {
	{ 64.0000000000000 },
	{ 0.00000000000000 },
};
float Cpid[1][2] = {
	{ -18.408379271595891, 18.560148270902872 },
};
float Dpid[1][1] = {
	{ 3.755247742061939e+03 },
};

//Disturbance Observer: 200us sampling, nominal plant: 1/(Mt*s+Dt), LPF 2000 Hz 2 order
float	A_Q[4] = { -6.93033784932449710000e-02,-2.28809657995894620000e-01,1.25000000000000000000e-01,0.00000000000000000000e+00 };
float	B_Q[2] = { 2.00000000000000000000e+00,0.00000000000000000000e+00 };
float	C_Q[2] = { 4.34560411497757370000e-01,9.15135050988872050000e-01 };
float	D_Q[1] = { 0.00000000000000000000e+00 };

float	A_R[4] = { -6.93033784932449710000e-02,-2.28809657995894640000e-01,1.25000000000000000000e-01,0.00000000000000000000e+00 };
float	B_R[2] = { 2.04800000000000000000e+03,0.00000000000000000000e+00 };
float	C_R[2] = { -4.64401398488159830000e+02,-1.34844841942162090000e+03 };
float	D_R[1] = { 1.19070083348703940000e+06 };

//HPF and LPF for band path filter, Fs:5000 Hz, bwlpf:1000 Hz, bwhpf:2000 Hz.
float	A_HPF2[4] = { 5.30109681820303820000e-01,-4.43388181547904210000e-01,5.00000000000000000000e-01,0.00000000000000000000e+00 };
float	B_HPF2[2] = { 1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	C_HPF2[2] = { -6.43739851171740710000e-01,6.81719614007296530000e-01 };
float	D_HPF2[1] = { 4.37950943148563980000e-01 };

float	A_LPF2[4] = { -2.65885292394296700000e-01,-3.68195667003904100000e-01,5.00000000000000000000e-01,0.00000000000000000000e+00 };
float	B_LPF2[2] = { 1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	C_LPF2[2] = { 6.28609266099194320000e-01,5.91522186902180610000e-01 };
float	D_LPF2[1] = { 3.62495781474062200000e-01 };

//2000 Hz notch filter for DOB, Fs:10 kz, interference: 2000 Hz, bw:10 Hz
float	A_notch_2000[4] = { 6.16098452011502600000e-01,-9.93736471541614490000e-01,1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	B_notch_2000[2] = { 1.25000000000000000000e-01,0.00000000000000000000e+00 };
float	C_notch_2000[2] = { -1.54358007478219150000e-02,4.99513005070939540000e-02 };
float	D_notch_2000[1] = { 9.96868235771120380000e-01 };

//notch Filter for stage current : resonance at 1300 Hz, Bw:400Hz, Fs:5kHz, 2 order
float	A_notch_stage_x[4] = { -9.99247292624656360000e-02,-5.91398351399470950000e-01,1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	B_notch_stage_x[2] = { 5.00000000000000000000e-01,0.00000000000000000000e+00 };
float	C_notch_stage_x[2] = { 4.08294091085220360000e-02,6.50247989896962970000e-01 };
float	D_notch_stage_x[1] = { 7.95699175720165570000e-01 };


//DOB for Stage x: FS:1000 Hz, Bw:40 Hz, 2 order
float	A_Q_STX[4] = { 1.55553535834357830000e+00,-6.04922562764271140000e-01,1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	B_Q_STX[2] = { 2.50000000000000000000e-01,0.00000000000000000000e+00 };
float	C_Q_STX[2] = { 1.07031930645427710000e-01,9.05168870373438960000e-02 };
float	D_Q_STX[1] = { 0.00000000000000000000e+00 };

float	A_R_STX[4] = { 1.55553535834357830000e+00,-6.04922562764271140000e-01,1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	B_R_STX[2] = { 1.00000000000000000000e+00,0.00000000000000000000e+00 };
float	C_R_STX[2] = { 6.14351906303447490000e-01,-5.37456189188626920000e-01 };
float	D_R_STX[1] = { 4.01045201153208910000e-01 };











